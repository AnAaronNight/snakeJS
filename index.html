<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Snake</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript">
      document.addEventListener('keydown', logKey);
      function logKey(e) {
        let nextDir = [];
        if (inputQueue.length != 0) { nextDir = inputQueue[inputQueue.length - 1] }
        else { nextDir = snake.dir }

        if (`${e.code}` == "Space" && snake.dead) { document.location.reload() }
        switch (e.code) {
          case `ArrowRight`:
          case `KeyD`:
            if (nextDir[0] == 0 || !gameStarted) { inputQueue.push([1,0]) }
            break;
          case `ArrowLeft`:
          case `KeyA`:
            if (nextDir[0] == 0) { inputQueue.push([-1,0]) }
            break;
          case `ArrowDown`:
          case `KeyS`:
            if (nextDir[1] == 0) { inputQueue.push([0,1]) }
            break;
          case `ArrowUp`:
          case `KeyW`:
            if (nextDir[1] == 0) { inputQueue.push([0,-1]) }
            break;
        }
      }
    </script>
  </head>
  <body>
    <div id="score">~ 0 ~</div>
    <p id="demo"></p>
    <h3 id="restart"></h3>
    <script type="text/javascript" src="test.js"></script>
  </body>
</html>
